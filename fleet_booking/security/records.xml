<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <!--PARENT GROUP-->
        <record model="ir.module.category" id="module_fleet_booking_category">
            <field name="name">Fleet booking</field>
            <field name="sequence">18</field>
        </record>
        <!--BASIC GROUPS-->
        <record id="group_fleet_adv_user" model="res.groups">
            <field name="name">Advanced Fleet User</field>
            <field name="category_id" ref="module_fleet_booking_category"/>
            <field name="implied_ids" eval="[(4, ref('fleet.group_fleet_user'))]"/>
        </record>
        <!--ROLES-->
        <record id="group_general_manager" model="res.groups">
            <field name="name">General Manager</field>
            <field name="category_id" ref="module_fleet_booking_category"/>
            <field name="implied_ids" eval="[(4, ref('fleet.group_fleet_manager')),
                                             (4, ref('base.group_hr_manager')),
                                             (4, ref('base.group_system')),
                                             (4, ref('account.group_account_invoice')),
                                             (4, ref('partner_person.person_passport')),
                                             (4, ref('partner_person.person_birthdate')),
                                             (4, ref('partner_person.person_nationality')),
                                             (4, ref('base.group_sale_manager')),
                                             (4, ref('sale_membership.group_manager')),
                                             ]"/>
        </record>
        <record id="group_branch_officer" model="res.groups">
            <field name="name">Branch Officer</field>
            <field name="category_id" ref="module_fleet_booking_category"/>
            <field name="implied_ids" eval="[(4, ref('group_fleet_adv_user')),
                                             (4, ref('base.group_sale_manager')),
                                             (4, ref('account.group_account_invoice')),
                                             (4, ref('partner_person.person_passport')),
                                             (4, ref('partner_person.person_birthdate')),
                                             (4, ref('partner_person.person_nationality')),
                                             (4, ref('sale_membership.group_manager')),]"/>
        </record>
        <record id="group_vehicles_support_officer" model="res.groups">
            <field name="name">Vehicles Support Officer</field>
            <field name="category_id" ref="module_fleet_booking_category"/>
            <field name="implied_ids" eval="[(4, ref('fleet.group_fleet_manager')),
                                             (4, ref('base.group_sale_manager')),
                                             (4, ref('account.group_account_invoice')),]"/>
        </record>
        <record id="group_branch_employee" model="res.groups">
            <field name="name">Branch Employee</field>
            <field name="category_id" ref="module_fleet_booking_category"/>
            <field name="implied_ids" eval="[(4, ref('fleet.group_fleet_user'))]"/>
        </record>
        <record id="group_accountant" model="res.groups">
            <field name="name">Accountant</field>
            <field name="category_id" ref="module_fleet_booking_category"/>
            <field name="implied_ids" eval="[(4, ref('account.group_account_user')),
                                             (4, ref('account.group_account_manager')),
                                             (4, ref('base.group_sale_salesman')),
                                             (4, ref('fleet.group_fleet_manager'))]"/>
        </record>
        <record id="group_payroll_officer" model="res.groups">
            <field name="name">Payroll Officer</field>
            <field name="category_id" ref="module_fleet_booking_category"/>
            <field name="implied_ids" eval="[(4, ref('base.group_hr_manager'))]"/>
        </record>
        <!--ALTER BUILD-IN GROUPS-->
        <record id="base.group_system" model="res.groups">
            <field name="implied_ids" eval="[(4, ref('fleet.group_fleet_manager')),
                                             (4, ref('base.group_hr_manager')),
                                             (4, ref('base.group_system')),
                                             (4, ref('partner_person.person_passport')),
                                             (4, ref('partner_person.person_birthdate')),
                                             (4, ref('partner_person.person_nationality')),
                                             ]"/>
        </record>
        <!--ACCESS RULES-->
        <record id="fleet_adv_user_vehicle_visibility" model="ir.rule">
            <field name="name">Advanced user can see/edit all vehicles</field>
            <field name="model_id" ref="fleet.model_fleet_vehicle"/>
            <field name="groups" eval="[(4, ref('group_fleet_adv_user'))]"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
        </record>
        <record id="fleet_adv_user_contract_visibility" model="ir.rule">
            <field name="name">Advanced user have full access on contracts</field>
            <field name="model_id" ref="fleet.model_fleet_vehicle_log_contract"/>
            <field name="groups" eval="[(4, ref('group_fleet_adv_user'))]"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>
        <record id="fleet_user_cost_visibility" model="ir.rule">
            <field name="name">Advanced user have full access on costs</field>
            <field name="model_id" ref="fleet.model_fleet_vehicle_cost"/>
            <field name="groups" eval="[(4, ref('group_fleet_adv_user'))]"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>
        <record id="fleet_user_service_visibility" model="ir.rule">
            <field name="name">Advanced user have full access on services</field>
            <field name="model_id" ref="fleet.model_fleet_vehicle_log_services"/>
            <field name="groups" eval="[(4, ref('group_fleet_adv_user'))]"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>
        <record id="fleet_user_odometer_visibility" model="ir.rule">
            <field name="name">Advanced user have full access on odometer</field>
            <field name="model_id" ref="fleet.model_fleet_vehicle_odometer"/>
            <field name="groups" eval="[(4, ref('group_fleet_adv_user'))]"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>
        <record id="fleet_user_fuel_log_visibility" model="ir.rule">
            <field name="name">Advanced user have full access on fuel log</field>
            <field name="model_id" ref="fleet.model_fleet_vehicle_log_fuel"/>
            <field name="groups" eval="[(4, ref('group_fleet_adv_user'))]"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="True"/>
            <field name="perm_unlink" eval="True"/>
        </record>
    </data>
</openerp>